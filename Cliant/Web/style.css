body {
    margin: 0;
    font-family: sans-serif;
    height: 100vh;
    display: flex;
    flex-direction: column;
    background-color: #f0f0f0; /* Light background for the page */
}

.page-container {
    display: flex;
    flex-direction: column;
    height: 100%;
    padding: 10px;
    gap: 10px;
}

.page-header {
    display: flex;
    gap: 10px;
    align-items: stretch; /* Make items in header same height */
}

#status_monitor {
    background-color: dimgray; /* Darker gray like screenshot */
    color: white;
    padding: 15px;
    border-radius: 5px;
    display: flex;
    flex-direction: row;
    justify-content: center;
    gap: 10px; /* Space between "通信" and "校正" */
    min-width: 180px; /* Ensure it has some width */
    font-size: 1.1em;
}

#status_monitor > div {
    background-color: #5a5a5a; /* Slightly lighter background for individual items */
    padding: 8px;
    border-radius: 3px;
}


.connection-controls {
    display: flex;
    flex-direction: row; /* Stack button and baudrate */
    gap: 10px;
    padding: 10px;
    background-color: #e9e9e9;
    border-radius: 5px;
    justify-content: center;
}

.connection-controls button {
    padding: 10px 15px;
}
.connection-controls label {
    display: flex;
    align-items: center;
    gap: 5px;
}
.connection-controls input[type="text"] {
    width: 80px; /* Adjust as needed */
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 3px;
}


.main-content {
    display: flex;
    flex-grow: 1; /* Takes up available vertical space */
    gap: 10px;
    min-height: 0; /* Important for flex children with overflow */
}

#control_panel {
    background-color: #ffffff; /* White background for control panel */
    padding: 15px;
    border-radius: 5px;
    border: 1px solid #ccc;
    display: flex;
    flex-direction: column;
    gap: 12px; /* Spacing between control groups */
    min-width: 400px; /* Increased width for control panel */
    overflow-y: auto; /* Allow scrolling if content overflows */
}

.control-group {
    display: flex;
    align-items: flex-start;
    gap: 10px; /* Space between button and label/input */
}

.control-group button {
    padding: 8px 12px;
    min-width: 120px; /* Common width for buttons */
    border: 1px solid #ccc;
    background-color: #f9f9f9;
    border-radius: 3px;
    cursor: pointer;
}
.control-group button:disabled {
    background-color: #e0e0e0;
    cursor: not-allowed;
}


.control-group .input-label {
    display: flex;
    align-items: center;
    gap: 5px;
    flex-grow: 1; /* Allow label/input to take remaining space */
}

.control-group input[type="text"] {
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 3px;
    width: 100px; /* Default width for most inputs */
}

/* Special styling for EIS button and its inputs */
.eis-controls {
    align-items: flex-start; /* Align button to top of multi-line inputs */
}

.inputs_list {
    display: flex;
    flex-direction: column;
    gap: 8px; /* Space between each EIS input line */
}
/* ▼▼▼ ここから変更・追加 ▼▼▼ */
.inputs_list.wide {
    flex-grow: 1;
}

.inputs_list > div:not(#eis_freq_list_container) {
    display: flex;
    align-items: center;
}
.inputs_list label {
    display: flex;
    align-items: center;
    gap: 5px;
    min-width: 160px; /* Ensure labels align */
    justify-content: flex-end; /* Right-align label text */
    font-size: 0.9em;
}
.inputs_list > div > label > input[type="text"] {
    width: 70px; /* Smaller inputs for EIS values */
}

#eis_freq_list_container {
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
    margin-top: 5px;
    background-color: #f9f9f9;
}

#eis_freq_table {
    width: 100%;
    border-collapse: collapse;
}

#eis_freq_table th:nth-child(3),
#eis_freq_table td:nth-child(3) {
    width: 40px;
}

#eis_freq_table th,
#eis_freq_table td {
    padding: 4px;
    text-align: center;
    vertical-align: middle;
}

#eis_freq_table th {
    font-size: 0.85em;
    color: #555;
    padding-bottom: 8px;
}

#eis_freq_table input[type="text"] {
    width: 100%;
    box-sizing: border-box;
    padding: 6px;
    border: 1px solid #ccc;
    border-radius: 3px;
    text-align: center;
}

#eis_freq_table .remove_freq_btn {
    background-color: #ff5252;
    color: white;
    border: none;
    border-radius: 50%;
    width: 24px;
    height: 24px;
    min-width: 0;
    cursor: pointer;
    font-weight: bold;
    line-height: 24px;
    padding: 0;
    flex-shrink: 0;
    display: block; /* margin: autoが効くようにブロック要素にする */
    margin: 0 auto; /* 水平方向の中央寄せ */
}
#eis_freq_table .remove_freq_btn:hover {
    background-color: #e04848;
}

#add_freq_btn {
    align-self: flex-start;
    margin-top: 5px;
    padding: 6px 12px;
    font-size: 0.9em;
    background-color: #4CAF50; /* Green */
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}
#add_freq_btn:hover {
    background-color: #45a049;
}
/* ▲▲▲ ここまで変更・追加 ▲▲▲ */


.action-button {
    background-color: #ff9800; /* Orange color like screenshot */
    border: none;
}
.action-button:disabled {
    background-color: #ffcc80; /* Lighter orange when disabled */
}

.full-width-label {
    display: flex;
    align-items: center;
    gap: 5px;
    width: 100%;
}
.full-width-label input[type="text"] {
    flex-grow: 1;
}

#control_panel hr {
    border: none;
    border-top: 1px solid #eee;
    margin: 5px 0;
}


#graph_container {
    flex-grow: 1; /* Takes remaining horizontal space */
    background-color: #ffffff;
    padding: 10px;
    border-radius: 5px;
    border: 1px solid #ccc;
    display: flex; /* To help canvas fill it */
    min-width: 0; /* Important for flex children */
}
#graph_container canvas {
    width: 100% !important; /* Override chart.js inline style if necessary */
    height: 100% !important;
}


.page-footer {
    display: flex;
    flex-direction: column;
    gap: 10px;
    height: 200px; /* Fixed height for footer, adjust as needed */
}

#serial_console {
    border: 1px solid #ccc;
    background-color: #ffffff;
    padding: 10px;
    flex-grow: 1; /* Takes available space in footer */
    overflow-y: auto;
    overflow-x: scroll;
    white-space: pre;
    display: flex;
    flex-direction: column-reverse; /* To show newest messages at bottom and scroll up */
    border-radius: 5px;
    font-size: 0.9em;
}

/* Serial console message styling (from original, can be expanded) */
.message { padding: 2px 0; }
.black { color: black; }
.red { color: red; }
.red_bold { color: red; font-weight: bold; }
.green { color: green; }
.gray { color: gray; }

.send-controls {
    display: flex;
    gap: 10px;
}
.send-controls button {
    padding: 10px 15px;
}
.send-controls input[type="text"] {
    flex-grow: 1;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 3px;
}